#!/usr/bin/env python3.5

"""
./start_simulation.py ../raw_data/uber_accounts.txt sim 2> log.txt
"""

import sys
import multiprocessing as mp
import subprocess as sp
import time, csv
import pdb

def start_simulation(account_path, mode):
    accounts = load_accounts(account_path)
    """
    LonLat:
    SF: -122.44212712345876, 37.79872502324564
    NYC: -74.00003712345876, 40.77174202324564
    Manhattan: -74.00888312345876, 40.695541202324564
    """
    """
    Interval:
    SF: 0.0078
    NYC: 0.0041
    Manhattan: 0.0041
    """
    grid = generate_grid(-122.442127, 37.798725)
    
#    grid = generate_grid(-74.00003712345876, 40.77174202324564,
#    msize = 10, interval = 0.0041)
#    lon_lat = trim_grid(grid, city = 'nyc')

    jobs = []
    for (user, email, password, port, mobile), (lat, lon, geocode) \
            in zip(accounts, grid):
#        if user != 'Matthew_Jones':
#            continue
#
#        do_simulation(user, email, password, mobile, mode, port, lon, lat, 'stay')
#        break

        p = mp.Process(target = do_simulation, args = \
            (geocode, email, password, mobile, mode, port, lon, lat, 'stay'))
        jobs.append(p)
        p.start()

        time.sleep(0.1)

def do_simulation(user, email, password, mobile, mode, port, lon, lat, mv_dir):
    print(user + " starts Ubering.")
    sim_uber = sp.Popen(['python3.5', 'simulate_uber.py', user, email, password,
        mobile, mode, port, str(lon), str(lat), mv_dir])
    stdout_data, stderr_data = sim_uber.communicate()

def trim_grid(grid, total = 43, city = 'sf'):
    lon_lat = []

    if city == 'sf':
        for i in grid[0][:5]: lon_lat.append(i)
        for i in grid[1][:6]: lon_lat.append(i)
        for i in grid[2][:7]: lon_lat.append(i)
        for i in grid[3][:7]: lon_lat.append(i)
        for i in grid[4][:7]: lon_lat.append(i)
        for i in grid[5][:7]: lon_lat.append(i)
        for i in grid[6][3:7]: lon_lat.append(i)
    elif city == 'nyc':
        for i in grid[0][2:3]: lon_lat.append(i)
        for i in grid[1][2:5]: lon_lat.append(i)
        for i in grid[2][1:5]: lon_lat.append(i)
        for i in grid[3][1:12]: lon_lat.append(i)
        for i in grid[4][:10]: lon_lat.append(i)
        for i in grid[5][2:9]: lon_lat.append(i)
        for i in grid[6][3:8]: lon_lat.append(i)
        for i in grid[7][4:8]: lon_lat.append(i)
    else:
        pdb.set_trace()
    
    return lon_lat

def generate_grid(start_lon, start_lat, msize = 8, interval = 0.0078):
    return [
    (40.704, -74.016, "LM-00-00"),
    (40.704, -74.0114666667, "LM-00-01"),
    (40.7080434783, -74.016, "LM-01-00"),
    (40.7080434783, -74.0114666667, "LM-01-01"),
    (40.7080434783, -74.0069333333, "LM-01-02"),
    (40.7080434783, -74.0024, "LM-01-03"),
    (40.7120869565, -74.0114666667, "LM-02-01"),
    (40.7120869565, -74.0069333333, "LM-02-02"),
    (40.7120869565, -74.0024, "LM-02-03"),
    (40.7120869565, -73.9978666667, "LM-02-04"),
    (40.7120869565, -73.9933333333, "LM-02-05"),
    (40.7120869565, -73.9888, "LM-02-06"),
    (40.7120869565, -73.9842666667, "LM-02-07"),
    (40.7120869565, -73.9797333333, "LM-02-08"),
    (40.7120869565, -73.9752, "LM-02-09"),
    (40.7161304348, -74.0114666667, "LM-03-01"),
    (40.7161304348, -74.0069333333, "LM-03-02"),
    (40.7161304348, -74.0024, "LM-03-03"),
    (40.7161304348, -73.9978666667, "LM-03-04"),
    (40.7161304348, -73.9933333333, "LM-03-05"),
    (40.7161304348, -73.9888, "LM-03-06"),
    (40.7161304348, -73.9842666667, "LM-03-07"),
    (40.7161304348, -73.9797333333, "LM-03-08"),
    (40.7161304348, -73.9752, "LM-03-09"),
    (40.720173913, -74.0114666667, "LM-04-01"),
    (40.720173913, -74.0069333333, "LM-04-02"),
    (40.720173913, -74.0024, "LM-04-03"),
    (40.720173913, -73.9978666667, "LM-04-04"),
    (40.720173913, -73.9933333333, "LM-04-05"),
    (40.720173913, -73.9888, "LM-04-06"),
    (40.720173913, -73.9842666667, "LM-04-07"),
    (40.720173913, -73.9797333333, "LM-04-08"),
    (40.720173913, -73.9752, "LM-04-09"),
    (40.7242173913, -74.0114666667, "LM-05-01"),
    (40.7242173913, -74.0069333333, "LM-05-02"),
    (40.7242173913, -74.0024, "LM-05-03"),
    (40.7242173913, -73.9978666667, "LM-05-04"),
    (40.7242173913, -73.9933333333, "LM-05-05"),
    (40.7242173913, -73.9888, "LM-05-06"),
    (40.7242173913, -73.9842666667, "LM-05-07"),
    (40.7242173913, -73.9797333333, "LM-05-08"),
    (40.7242173913, -73.9752, "LM-05-09"),
    (40.7282608696, -74.0114666667, "LM-06-01"),
    (40.7282608696, -74.0069333333, "LM-06-02"),
    (40.7282608696, -74.0024, "LM-06-03"),
    (40.7282608696, -73.9978666667, "LM-06-04"),
    (40.7282608696, -73.9933333333, "LM-06-05"),
    (40.7282608696, -73.9888, "LM-06-06"),
    (40.7282608696, -73.9842666667, "LM-06-07"),
    (40.7282608696, -73.9797333333, "LM-06-08"),
    (40.7282608696, -73.9752, "LM-06-09"),
    (40.7323043478, -74.0114666667, "LM-07-01"),
    (40.7323043478, -74.0069333333, "LM-07-02"),
    (40.7323043478, -74.0024, "LM-07-03"),
    (40.7323043478, -73.9978666667, "LM-07-04"),
    (40.7323043478, -73.9933333333, "LM-07-05"),
    (40.7323043478, -73.9888, "LM-07-06"),
    (40.7323043478, -73.9842666667, "LM-07-07"),
    (40.7323043478, -73.9797333333, "LM-07-08"),
    (40.7323043478, -73.9752, "LM-07-09"),
    (40.7363478261, -74.0069333333, "LM-08-02"),
    (40.7363478261, -74.0024, "LM-08-03"),
    (40.7363478261, -73.9978666667, "LM-08-04"),
    (40.7363478261, -73.9933333333, "LM-08-05"),
    (40.7363478261, -73.9888, "LM-08-06"),
    (40.7363478261, -73.9842666667, "LM-08-07"),
    (40.7363478261, -73.9797333333, "LM-08-08"),
    (40.7363478261, -73.9752, "LM-08-09"),
    (40.7403913043, -74.0069333333, "LM-09-02"),
    (40.7403913043, -74.0024, "LM-09-03"),
    (40.7403913043, -73.9978666667, "LM-09-04"),
    (40.7403913043, -73.9933333333, "LM-09-05"),
    (40.7403913043, -73.9888, "LM-09-06"),
    (40.7403913043, -73.9842666667, "LM-09-07"),
    (40.7403913043, -73.9797333333, "LM-09-08"),
    (40.7403913043, -73.9752, "LM-09-09"),
    (40.7444347826, -74.0069333333, "LM-10-02"),
    (40.7444347826, -74.0024, "LM-10-03"),
    (40.7444347826, -73.9978666667, "LM-10-04"),
    (40.7444347826, -73.9933333333, "LM-10-05"),
    (40.7444347826, -73.9888, "LM-10-06"),
    (40.7444347826, -73.9842666667, "LM-10-07"),
    (40.7444347826, -73.9797333333, "LM-10-08"),
    (40.7444347826, -73.9752, "LM-10-09"),
    (40.7444347826, -73.9706666667, "LM-10-10"),
    (40.7484782609, -74.0069333333, "LM-11-02"),
    (40.7484782609, -74.0024, "LM-11-03"),
    (40.7484782609, -73.9978666667, "LM-11-04"),
    (40.7484782609, -73.9933333333, "LM-11-05"),
    (40.7484782609, -73.9888, "LM-11-06"),
    (40.7484782609, -73.9842666667, "LM-11-07"),
    (40.7484782609, -73.9797333333, "LM-11-08"),
    (40.7484782609, -73.9752, "LM-11-09"),
    (40.7484782609, -73.9706666667, "LM-11-10"),
    (40.7525217391, -74.0069333333, "LM-12-02"),
    (40.7525217391, -74.0024, "LM-12-03"),
    (40.7525217391, -73.9978666667, "LM-12-04"),
    (40.7525217391, -73.9933333333, "LM-12-05"),
    (40.7525217391, -73.9888, "LM-12-06"),
    (40.7525217391, -73.9842666667, "LM-12-07"),
    (40.7525217391, -73.9797333333, "LM-12-08"),
    (40.7525217391, -73.9752, "LM-12-09"),
    (40.7525217391, -73.9706666667, "LM-12-10"),
    (40.7525217391, -73.9661333333, "LM-12-11"),
    (40.7565652174, -74.0024, "LM-13-03"),
    (40.7565652174, -73.9978666667, "LM-13-04"),
    (40.7565652174, -73.9933333333, "LM-13-05"),
    (40.7565652174, -73.9888, "LM-13-06"),
    (40.7565652174, -73.9842666667, "LM-13-07"),
    (40.7565652174, -73.9797333333, "LM-13-08"),
    (40.7565652174, -73.9752, "LM-13-09"),
    (40.7565652174, -73.9706666667, "LM-13-10"),
    (40.7565652174, -73.9661333333, "LM-13-11"),
    (40.7565652174, -73.9616, "LM-13-12"),
    (40.7606086957, -73.9978666667, "LM-14-04"),
    (40.7606086957, -73.9933333333, "LM-14-05"),
    (40.7606086957, -73.9888, "LM-14-06"),
    (40.7606086957, -73.9842666667, "LM-14-07"),
    (40.7606086957, -73.9797333333, "LM-14-08"),
    (40.7606086957, -73.9752, "LM-14-09"),
    (40.7606086957, -73.9706666667, "LM-14-10"),
    (40.7606086957, -73.9661333333, "LM-14-11"),
    (40.7606086957, -73.9616, "LM-14-12"),
    (40.7606086957, -73.9570666667, "LM-14-13"),
    (40.7646521739, -73.9978666667, "LM-15-04"),
    (40.7646521739, -73.9933333333, "LM-15-05"),
    (40.7646521739, -73.9888, "LM-15-06"),
    (40.7646521739, -73.9842666667, "LM-15-07"),
    (40.7646521739, -73.9797333333, "LM-15-08"),
    (40.7646521739, -73.9706666667, "LM-15-10"),
    (40.7646521739, -73.9661333333, "LM-15-11"),
    (40.7646521739, -73.9616, "LM-15-12"),
    (40.7646521739, -73.9570666667, "LM-15-13"),
    (40.7646521739, -73.9525333333, "LM-15-14"),
    (40.7686956522, -73.9933333333, "LM-16-05"),
    (40.7686956522, -73.9888, "LM-16-06"),
    (40.7686956522, -73.9842666667, "LM-16-07"),
    (40.7686956522, -73.9661333333, "LM-16-11"),
    (40.7686956522, -73.9616, "LM-16-12"),
    (40.7686956522, -73.9570666667, "LM-16-13"),
    (40.7686956522, -73.9525333333, "LM-16-14"),
    (40.7727391304, -73.9933333333, "LM-17-05"),
    (40.7727391304, -73.9888, "LM-17-06"),
    (40.7727391304, -73.9842666667, "LM-17-07"),
    (40.7727391304, -73.9616, "LM-17-12"),
    (40.7727391304, -73.9570666667, "LM-17-13"),
    (40.7727391304, -73.9525333333, "LM-17-14"),
    (40.7727391304, -73.948, "LM-17-15"),
    (40.7767826087, -73.9888, "LM-18-06"),
    (40.7767826087, -73.9842666667, "LM-18-07"),
    (40.7767826087, -73.9797333333, "LM-18-08"),
    (40.7767826087, -73.9616, "LM-18-12"),
    (40.7767826087, -73.9570666667, "LM-18-13"),
    (40.7767826087, -73.9525333333, "LM-18-14"),
    (40.7767826087, -73.948, "LM-18-15"),
    (40.780826087, -73.9842666667, "LM-19-07"),
    (40.780826087, -73.9797333333, "LM-19-08"),
    (40.780826087, -73.9752, "LM-19-09"),
    (40.780826087, -73.9570666667, "LM-19-13"),
    (40.780826087, -73.9525333333, "LM-19-14"),
    (40.780826087, -73.948, "LM-19-15"),
    (40.7848695652, -73.9842666667, "LM-20-07"),
    (40.7848695652, -73.9797333333, "LM-20-08"),
    (40.7848695652, -73.9752, "LM-20-09"),
    (40.7848695652, -73.9525333333, "LM-20-14"),
    (40.7848695652, -73.948, "LM-20-15"),
    (40.7889130435, -73.9797333333, "LM-21-08"),
    (40.7889130435, -73.9752, "LM-21-09"),
    (40.7889130435, -73.9706666667, "LM-21-10"),
    (40.7889130435, -73.9525333333, "LM-21-14"),
    (40.7889130435, -73.948, "LM-21-15"),
    (40.7929565217, -73.9752, "LM-22-09"),
    (40.7929565217, -73.9706666667, "LM-22-10"),
    (40.7929565217, -73.9661333333, "LM-22-11"),
    (40.7929565217, -73.948, "LM-22-15"),
    (40.797, -73.9752, "LM-23-09"),
    (40.797, -73.9706666667, "LM-23-10"),
    (40.797, -73.9661333333, "LM-23-11"),
    (40.797, -73.948, "LM-23-15"),
    (40.792, -73.9437142857, "UM-00-02"),
    (40.792, -73.9335714286, "UM-00-03"),
    (40.8008181818, -73.964, "UM-01-00"),
    (40.8008181818, -73.9538571429, "UM-01-01"),
    (40.8008181818, -73.9437142857, "UM-01-02"),
    (40.8008181818, -73.9335714286, "UM-01-03"),
    (40.8008181818, -73.9234285714, "UM-01-04"),
    (40.8008181818, -73.9132857143, "UM-01-05"),
    (40.8096363636, -73.964, "UM-02-00"),
    (40.8096363636, -73.9538571429, "UM-02-01"),
    (40.8096363636, -73.9437142857, "UM-02-02"),
    (40.8096363636, -73.9335714286, "UM-02-03"),
    (40.8096363636, -73.9234285714, "UM-02-04"),
    (40.8096363636, -73.9132857143, "UM-02-05"),
    (40.8096363636, -73.9031428571, "UM-02-06"),
    (40.8096363636, -73.893, "UM-02-07"),
    (40.8184545455, -73.9538571429, "UM-03-01"),
    (40.8184545455, -73.9437142857, "UM-03-02"),
    (40.8184545455, -73.9335714286, "UM-03-03"),
    (40.8184545455, -73.9234285714, "UM-03-04"),
    (40.8184545455, -73.9132857143, "UM-03-05"),
    (40.8184545455, -73.9031428571, "UM-03-06"),
    (40.8184545455, -73.893, "UM-03-07"),
    (40.8272727273, -73.9538571429, "UM-04-01"),
    (40.8272727273, -73.9437142857, "UM-04-02"),
    (40.8272727273, -73.9335714286, "UM-04-03"),
    (40.8272727273, -73.9234285714, "UM-04-04"),
    (40.8272727273, -73.9132857143, "UM-04-05"),
    (40.8272727273, -73.9031428571, "UM-04-06"),
    (40.8272727273, -73.893, "UM-04-07"),
    (40.8360909091, -73.9437142857, "UM-05-02"),
    (40.8360909091, -73.9335714286, "UM-05-03"),
    (40.8360909091, -73.9234285714, "UM-05-04"),
    (40.8360909091, -73.9132857143, "UM-05-05"),
    (40.8360909091, -73.9031428571, "UM-05-06"),
    (40.8360909091, -73.893, "UM-05-07"),
    (40.8449090909, -73.9437142857, "UM-06-02"),
    (40.8449090909, -73.9335714286, "UM-06-03"),
    (40.8449090909, -73.9234285714, "UM-06-04"),
    (40.8449090909, -73.9132857143, "UM-06-05"),
    (40.8449090909, -73.9031428571, "UM-06-06"),
    (40.8449090909, -73.893, "UM-06-07"),
    (40.8537272727, -73.9335714286, "UM-07-03"),
    (40.8537272727, -73.9234285714, "UM-07-04"),
    (40.8537272727, -73.9132857143, "UM-07-05"),
    (40.8537272727, -73.9031428571, "UM-07-06"),
    (40.8537272727, -73.893, "UM-07-07"),
    (40.8625454545, -73.9335714286, "UM-08-03"),
    (40.8625454545, -73.9234285714, "UM-08-04"),
    (40.8625454545, -73.9132857143, "UM-08-05"),
    (40.8625454545, -73.9031428571, "UM-08-06"),
    (40.8625454545, -73.893, "UM-08-07"),
    (40.8713636364, -73.9234285714, "UM-09-04"),
    (40.8713636364, -73.9132857143, "UM-09-05"),
    (40.8713636364, -73.9031428571, "UM-09-06"),
    (40.8713636364, -73.893, "UM-09-07"),
    (40.8801818182, -73.9132857143, "UM-10-05"),
    (40.8801818182, -73.9031428571, "UM-10-06"),
    (40.8801818182, -73.893, "UM-10-07"),
    (40.889, -73.9132857143, "UM-11-05"),
    (40.889, -73.9031428571, "UM-11-06"),
    (40.612, -74.038, "BQ-00-00"),
    (40.6210526316, -74.038, "BQ-01-00"),
    (40.6210526316, -74.0277894737, "BQ-01-01"),
    (40.6301052632, -74.038, "BQ-02-00"),
    (40.6301052632, -74.0277894737, "BQ-02-01"),
    (40.6301052632, -74.0175789474, "BQ-02-02"),
    (40.6391578947, -74.0277894737, "BQ-03-01"),
    (40.6391578947, -74.0175789474, "BQ-03-02"),
    (40.6391578947, -74.0073684211, "BQ-03-03"),
    (40.6482105263, -74.0175789474, "BQ-04-02"),
    (40.6482105263, -74.0073684211, "BQ-04-03"),
    (40.6572631579, -74.0073684211, "BQ-05-03"),
    (40.6572631579, -73.9971578947, "BQ-05-04"),
    (40.6663157895, -73.9869473684, "BQ-06-05"),
    (40.6753684211, -73.9971578947, "BQ-07-04"),
    (40.6753684211, -73.9869473684, "BQ-07-05"),
    (40.6753684211, -73.9767368421, "BQ-07-06"),
    (40.6844210526, -73.9971578947, "BQ-08-04"),
    (40.6844210526, -73.9869473684, "BQ-08-05"),
    (40.6844210526, -73.9767368421, "BQ-08-06"),
    (40.6844210526, -73.9665263158, "BQ-08-07"),
    (40.6934736842, -73.9971578947, "BQ-09-04"),
    (40.6934736842, -73.9869473684, "BQ-09-05"),
    (40.6934736842, -73.9767368421, "BQ-09-06"),
    (40.6934736842, -73.9665263158, "BQ-09-07"),
    (40.7025263158, -73.9869473684, "BQ-10-05"),
    (40.7025263158, -73.9665263158, "BQ-10-07"),
    (40.7025263158, -73.9563157895, "BQ-10-08"),
    (40.7115789474, -73.9563157895, "BQ-11-08"),
    (40.7115789474, -73.9461052632, "BQ-11-09"),
    (40.7206315789, -73.9563157895, "BQ-12-08"),
    (40.7206315789, -73.9461052632, "BQ-12-09"),
    (40.7206315789, -73.9358947368, "BQ-12-10"),
    (40.7296842105, -73.9563157895, "BQ-13-08"),
    (40.7296842105, -73.9461052632, "BQ-13-09"),
    (40.7296842105, -73.9358947368, "BQ-13-10"),
    (40.7296842105, -73.9256842105, "BQ-13-11"),
    (40.7387368421, -73.9461052632, "BQ-14-09"),
    (40.7387368421, -73.9358947368, "BQ-14-10"),
    (40.7387368421, -73.9256842105, "BQ-14-11"),
    (40.7477894737, -73.9461052632, "BQ-15-09"),
    (40.7477894737, -73.9358947368, "BQ-15-10"),
    (40.7477894737, -73.9256842105, "BQ-15-11"),
    (40.7477894737, -73.9154736842, "BQ-15-12"),
    (40.7568421053, -73.9358947368, "BQ-16-10"),
    (40.7568421053, -73.9256842105, "BQ-16-11"),
    (40.7568421053, -73.9154736842, "BQ-16-12"),
    (40.7568421053, -73.9052631579, "BQ-16-13"),
    (40.7658947368, -73.9256842105, "BQ-17-11"),
    (40.7658947368, -73.9154736842, "BQ-17-12"),
    (40.7658947368, -73.9052631579, "BQ-17-13"),
    (40.7658947368, -73.8950526316, "BQ-17-14"),
    (40.7749473684, -73.9154736842, "BQ-18-12"),
    (40.7749473684, -73.9052631579, "BQ-18-13"),
    (40.7749473684, -73.8950526316, "BQ-18-14"),
    (40.784, -73.9052631579, "BQ-19-13"),
    (40.586, -74.157, "SI-00-00"),
    (40.586, -74.101, "SI-00-01"),
    (40.627, -74.157, "SI-01-00"),
    (40.627, -74.101, "SI-01-01"),
    (40.652, -73.802, "JK-00-00"),
    (40.652, -73.767, "JK-00-01"),
    (40.672, -73.802, "JK-01-00"),
    (40.672, -73.767, "JK-01-01"),
#   The followings are SF
#    (37.71,-122.502,'SX-00-00'),
#    (37.71,-122.489333333,'SX-00-01'),
#    (37.71,-122.476666667,'SX-00-02'),
#    (37.71,-122.464,'SX-00-03'),
#    (37.71,-122.451333333,'SX-00-04'),
#    (37.71,-122.438666667,'SX-00-05'),
#    (37.71,-122.426,'SX-00-06'),
#    (37.71,-122.413333333,'SX-00-07'),
#    (37.71,-122.400666667,'SX-00-08'),
#    (37.71,-122.388,'SX-00-09'),
#    (37.7185,-122.502,'SX-01-00'),
#    (37.7185,-122.489333333,'SX-01-01'),
#    (37.7185,-122.476666667,'SX-01-02'),
#    (37.7185,-122.464,'SX-01-03'),
#    (37.7185,-122.451333333,'SX-01-04'),
#    (37.7185,-122.438666667,'SX-01-05'),
#    (37.7185,-122.426,'SX-01-06'),
#    (37.7185,-122.413333333,'SX-01-07'),
#    (37.7185,-122.400666667,'SX-01-08'),
#    (37.7185,-122.388,'SX-01-09'),
#    (37.727,-122.502,'SX-02-00'),
#    (37.727,-122.489333333,'SX-02-01'),
#    (37.727,-122.476666667,'SX-02-02'),
#    (37.727,-122.464,'SX-02-03'),
#    (37.727,-122.451333333,'SX-02-04'),
#    (37.727,-122.438666667,'SX-02-05'),
#    (37.727,-122.426,'SX-02-06'),
#    (37.727,-122.413333333,'SX-02-07'),
#    (37.727,-122.400666667,'SX-02-08'),
#    (37.727,-122.388,'SX-02-09'),
#    (37.7355,-122.502,'SX-03-00'),
#    (37.7355,-122.489333333,'SX-03-01'),
#    (37.7355,-122.476666667,'SX-03-02'),
#    (37.7355,-122.464,'SX-03-03'),
#    (37.7355,-122.451333333,'SX-03-04'),
#    (37.7355,-122.438666667,'SX-03-05'),
#    (37.7355,-122.426,'SX-03-06'),
#    (37.7355,-122.413333333,'SX-03-07'),
#    (37.7355,-122.400666667,'SX-03-08'),
#    (37.7355,-122.388,'SX-03-09'),
#    (37.744,-122.502,'SX-04-00'),
#    (37.744,-122.489333333,'SX-04-01'),
#    (37.744,-122.476666667,'SX-04-02'),
#    (37.744,-122.464,'SX-04-03'),
#    (37.744,-122.451333333,'SX-04-04'),
#    (37.744,-122.438666667,'SX-04-05'),
#    (37.744,-122.426,'SX-04-06'),
#    (37.744,-122.413333333,'SX-04-07'),
#    (37.744,-122.400666667,'SX-04-08'),
#    (37.744,-122.388,'SX-04-09'),
#    (37.727,-122.378,'HP-00-00'),
#    (37.727,-122.368,'HP-00-01'),
#    (37.751,-122.502,'NW-00-00'),
#    (37.751,-122.493666667,'NW-00-01'),
#    (37.751,-122.485333333,'NW-00-02'),
#    (37.751,-122.477,'NW-00-03'),
#    (37.751,-122.468666667,'NW-00-04'),
#    (37.751,-122.460333333,'NW-00-05'),
#    (37.751,-122.452,'NW-00-06'),
#    (37.76,-122.502,'NW-01-00'),
#    (37.76,-122.493666667,'NW-01-01'),
#    (37.76,-122.485333333,'NW-01-02'),
#    (37.76,-122.477,'NW-01-03'),
#    (37.76,-122.468666667,'NW-01-04'),
#    (37.76,-122.460333333,'NW-01-05'),
#    (37.76,-122.452,'NW-01-06'),
#    (37.769,-122.502,'NW-02-00'),
#    (37.769,-122.493666667,'NW-02-01'),
#    (37.769,-122.485333333,'NW-02-02'),
#    (37.769,-122.477,'NW-02-03'),
#    (37.769,-122.468666667,'NW-02-04'),
#    (37.769,-122.460333333,'NW-02-05'),
#    (37.769,-122.452,'NW-02-06'),
#    (37.778,-122.502,'NW-03-00'),
#    (37.778,-122.493666667,'NW-03-01'),
#    (37.778,-122.485333333,'NW-03-02'),
#    (37.778,-122.477,'NW-03-03'),
#    (37.778,-122.468666667,'NW-03-04'),
#    (37.778,-122.460333333,'NW-03-05'),
#    (37.778,-122.452,'NW-03-06'),
#    (37.787,-122.502,'NW-04-00'),
#    (37.787,-122.493666667,'NW-04-01'),
#    (37.787,-122.485333333,'NW-04-02'),
#    (37.787,-122.477,'NW-04-03'),
#    (37.787,-122.468666667,'NW-04-04'),
#    (37.787,-122.460333333,'NW-04-05'),
#    (37.787,-122.452,'NW-04-06'),
#    (37.796,-122.477,'NW-05-03'),
#    (37.796,-122.468666667,'NW-05-04'),
#    (37.796,-122.460333333,'NW-05-05'),
#    (37.796,-122.452,'NW-05-06'),
#    (37.805,-122.477,'NW-06-03'),
#    (37.805,-122.468666667,'NW-06-04'),
#    (37.805,-122.460333333,'NW-06-05'),
#    (37.805,-122.452,'NW-06-06'),
#    (37.751,-122.445,'NE-00-00'),
#    (37.751,-122.438666667,'NE-00-01'),
#    (37.751,-122.432333333,'NE-00-02'),
#    (37.751,-122.426,'NE-00-03'),
#    (37.751,-122.419666667,'NE-00-04'),
#    (37.751,-122.413333333,'NE-00-05'),
#    (37.751,-122.407,'NE-00-06'),
#    (37.751,-122.400666667,'NE-00-07'),
#    (37.751,-122.394333333,'NE-00-08'),
#    (37.751,-122.388,'NE-00-09'),
#    (37.757,-122.445,'NE-01-00'),
#    (37.757,-122.438666667,'NE-01-01'),
#    (37.757,-122.432333333,'NE-01-02'),
#    (37.757,-122.426,'NE-01-03'),
#    (37.757,-122.419666667,'NE-01-04'),
#    (37.757,-122.413333333,'NE-01-05'),
#    (37.757,-122.407,'NE-01-06'),
#    (37.757,-122.400666667,'NE-01-07'),
#    (37.757,-122.394333333,'NE-01-08'),
#    (37.757,-122.388,'NE-01-09'),
#    (37.763,-122.445,'NE-02-00'),
#    (37.763,-122.438666667,'NE-02-01'),
#    (37.763,-122.432333333,'NE-02-02'),
#    (37.763,-122.426,'NE-02-03'),
#    (37.763,-122.419666667,'NE-02-04'),
#    (37.763,-122.413333333,'NE-02-05'),
#    (37.763,-122.407,'NE-02-06'),
#    (37.763,-122.400666667,'NE-02-07'),
#    (37.763,-122.394333333,'NE-02-08'),
#    (37.763,-122.388,'NE-02-09'),
#    (37.769,-122.445,'NE-03-00'),
#    (37.769,-122.438666667,'NE-03-01'),
#    (37.769,-122.432333333,'NE-03-02'),
#    (37.769,-122.426,'NE-03-03'),
#    (37.769,-122.419666667,'NE-03-04'),
#    (37.769,-122.413333333,'NE-03-05'),
#    (37.769,-122.407,'NE-03-06'),
#    (37.769,-122.400666667,'NE-03-07'),
#    (37.769,-122.394333333,'NE-03-08'),
#    (37.769,-122.388,'NE-03-09'),
#    (37.775,-122.445,'NE-04-00'),
#    (37.775,-122.438666667,'NE-04-01'),
#    (37.775,-122.432333333,'NE-04-02'),
#    (37.775,-122.426,'NE-04-03'),
#    (37.775,-122.419666667,'NE-04-04'),
#    (37.775,-122.413333333,'NE-04-05'),
#    (37.775,-122.407,'NE-04-06'),
#    (37.775,-122.400666667,'NE-04-07'),
#    (37.775,-122.394333333,'NE-04-08'),
#    (37.775,-122.388,'NE-04-09'),
#    (37.781,-122.445,'NE-05-00'),
#    (37.781,-122.438666667,'NE-05-01'),
#    (37.781,-122.432333333,'NE-05-02'),
#    (37.781,-122.426,'NE-05-03'),
#    (37.781,-122.419666667,'NE-05-04'),
#    (37.781,-122.413333333,'NE-05-05'),
#    (37.781,-122.407,'NE-05-06'),
#    (37.781,-122.400666667,'NE-05-07'),
#    (37.781,-122.394333333,'NE-05-08'),
#    (37.781,-122.388,'NE-05-09'),
#    (37.787,-122.445,'NE-06-00'),
#    (37.787,-122.438666667,'NE-06-01'),
#    (37.787,-122.432333333,'NE-06-02'),
#    (37.787,-122.426,'NE-06-03'),
#    (37.787,-122.419666667,'NE-06-04'),
#    (37.787,-122.413333333,'NE-06-05'),
#    (37.787,-122.407,'NE-06-06'),
#    (37.787,-122.400666667,'NE-06-07'),
#    (37.787,-122.394333333,'NE-06-08'),
#    (37.787,-122.388,'NE-06-09'),
#    (37.793,-122.445,'NE-07-00'),
#    (37.793,-122.438666667,'NE-07-01'),
#    (37.793,-122.432333333,'NE-07-02'),
#    (37.793,-122.426,'NE-07-03'),
#    (37.793,-122.419666667,'NE-07-04'),
#    (37.793,-122.413333333,'NE-07-05'),
#    (37.793,-122.407,'NE-07-06'),
#    (37.793,-122.400666667,'NE-07-07'),
#    (37.793,-122.394333333,'NE-07-08'),
#    (37.799,-122.445,'NE-08-00'),
#    (37.799,-122.438666667,'NE-08-01'),
#    (37.799,-122.432333333,'NE-08-02'),
#    (37.799,-122.426,'NE-08-03'),
#    (37.799,-122.419666667,'NE-08-04'),
#    (37.799,-122.413333333,'NE-08-05'),
#    (37.799,-122.407,'NE-08-06'),
#    (37.799,-122.400666667,'NE-08-07'),
#    (37.805,-122.445,'NE-09-00'),
#    (37.805,-122.438666667,'NE-09-01'),
#    (37.805,-122.432333333,'NE-09-02'),
#    (37.805,-122.426,'NE-09-03'),
#    (37.805,-122.419666667,'NE-09-04'),
#    (37.805,-122.413333333,'NE-09-05'),
#    (37.805,-122.407,'NE-09-06'),
#    (37.772,-122.423,'DT-00-00'),
#    (37.772,-122.4166,'DT-00-01'),
#    (37.772,-122.4102,'DT-00-02'),
#    (37.772,-122.4038,'DT-00-03'),
#    (37.772,-122.3974,'DT-00-04'),
#    (37.772,-122.391,'DT-00-05'),
#    (37.7782,-122.423,'DT-01-00'),
#    (37.7782,-122.4166,'DT-01-01'),
#    (37.7782,-122.4102,'DT-01-02'),
#    (37.7782,-122.4038,'DT-01-03'),
#    (37.7782,-122.3974,'DT-01-04'),
#    (37.7782,-122.391,'DT-01-05'),
#    (37.7844,-122.423,'DT-02-00'),
#    (37.7844,-122.4166,'DT-02-01'),
#    (37.7844,-122.4102,'DT-02-02'),
#    (37.7844,-122.4038,'DT-02-03'),
#    (37.7844,-122.3974,'DT-02-04'),
#    (37.7844,-122.391,'DT-02-05'),
#    (37.7906,-122.423,'DT-03-00'),
#    (37.7906,-122.4166,'DT-03-01'),
#    (37.7906,-122.4102,'DT-03-02'),
#    (37.7906,-122.4038,'DT-03-03'),
#    (37.7906,-122.3974,'DT-03-04'),
#    (37.7906,-122.391,'DT-03-05'),
#    (37.7968,-122.423,'DT-04-00'),
#    (37.7968,-122.4166,'DT-04-01'),
#    (37.7968,-122.4102,'DT-04-02'),
#    (37.7968,-122.4038,'DT-04-03'),
#    (37.7968,-122.3974,'DT-04-04'),
#    (37.803,-122.423,'DT-05-00'),
#    (37.803,-122.4166,'DT-05-01'),
#    (37.803,-122.4102,'DT-05-02'),
#    (37.803,-122.4038,'DT-05-03'),
#    (37.81,-122.367,'IL-00-00'),
#    (37.823,-122.367,'IL-01-00')
    ]

def load_accounts(account_path):
    accounts = set()

    with open(account_path, 'r') as f:
        acc_reader = csv.reader(f, delimiter = '\t')
        header = acc_reader.__next__()
        field_index = {v:k for (k, v) in enumerate(header)}

        for row in acc_reader:
            accounts.add((row[field_index['name']],
                row[field_index['email']],
                row[field_index['password']],
                row[field_index['port']],
                row[field_index['mobile']]))

    return accounts

if __name__ == '__main__':
    start_simulation(sys.argv[1], sys.argv[2])
